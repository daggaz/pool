{% extends "pool/base.html" %}

{% block content %}
    <div id="player">
        <h2>{{  player.name }}</h2>
        <table>
            <tr>
                <th>#</th>
                <td>{{ player.ranking }}</td>
            </tr>
            <tr>
                <th>Rating</th>
                <td>{{ player.mu|floatformat }}</td>
            </tr>
            <tr>
                <th>Sigma</th>
                <td>{{ player.sigma|floatformat }}</td>
            </tr>
            <tr>
                <th>Won</th>
                <td>{{ player.games_won.count }}</td>
            </tr>
            <tr>
                <th>Lost</th>
                <td>{{ player.games_lost.count }}</td>
            </tr>
            <tr>
                <th>Played</th>
                <td>{{ player.games_played }}</td>
            </tr>
        </table>
    </div>

    <div id="games">
        <h2>Games</h2>
        <table>
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Against</th>
                    <th>Result</th>
                </tr>
            </thead>
            <tbody>
                {% for game in games %}
                    {% if game.winner == player %}
                        <tr class="winner">
                            <td>{{ game.created }}</td>
                            <td>{{ game.loser }}</td>
                            <td>Won</td>
                        </tr>
                    {% else %}
                        <tr class="loser">
                            <td>{{ game.created }}</td>
                            <td>{{ game.winner }}</td>
                            <td>Lost</td>
                        </tr>
                    {% endif %}

                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <div id="matches">
        <h2>Matches</h2>
        <table>
            <thead>
                <tr>
                    <th>Player</th>
                    <th>Games</th>
                    <th>Wins</th>
                    <th>Losses</th>
                </tr>
            </thead>
            <tbody>
                {% for other in others %}
                    <tr>
                        <td><a href="{% url "player" other.pk %}">{{ other.name }}</a></td>
                        <td>{{ other.games_played }}</td>
                        <td>{{ other.games_lost_against }}</td>
                        <td>{{ other.games_won_against }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

    </div>
{% endblock %}
